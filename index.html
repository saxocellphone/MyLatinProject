<!DOCTYPE html>
<html>
	<head>
		<title>A solids of revolution graphing calculator</title>
		<link rel="shortcut icon" href="https://lh6.googleusercontent.com/-eJP7CsCRims/AAAAAAAAAAI/AAAAAAAAAOE/9fdQHCWUWQs/s32-c-k-no/photo.jpg"/>
		<meta charset="UTF-8">
	</head>

	<body>

		<script src="js/three.min.js"></script>
		<script src="js/CanvasInput.js"></script>
		<script src="js/ThreeCSG.js"></script>
		<script src="js/Detector.js"></script>
		<script>
			"use strict";
			var camera, scene, renderer, loader, clock, roman;

			init();

			function init(){
				if(!Detector.webgl){  //No WebGL D:
					Detector.addGetWebGLMessage();
					return;
				}
				console.log("4");
				scene=new THREE.Scene();

				camera=new THREE.PerspectiveCamera(40, window.innerWidth/window.innerHeight, 1, 1000);
				camera.position.set(0,1,5);

				loader = new THREE.JSONLoader();
				// loader.load('un.json', function(geometry, materials){
				// 	materials.forEach(function(mat){
				// 		mat.skinning = true;
				// 	});
				// 	var skinMesh = new THREE.SkinnedMesh(geometry, new THREE.MeshFaceMaterial(materials));
				// 	var idle = new THREE.Animation(skinMesh, geometry.animations[0], THREE.AnimationHandler.CATMULLROM);
				// 	var rest = new THREE.Animation(skinMesh, geometry.animations[1], THREE.AnimationHandler.CATMULLROM);
				// 	var run = new THREE.Animation(skinMesh, geometry.animations[2], THREE.AnimationHandler.CATMULLROM);
				//
				// 	scene.add(skinMesh);
				// 	idle.play();
				// });
				roman = new THREE.Object3D();
				loader.load('untitled.json', function(geometry, materials){
					roman = new THREE.Mesh(
						geometry,
						new THREE.MeshFaceMaterial(materials)
					);

				});
				scene.add(roman);
				renderer=new THREE.WebGLRenderer({antialias: true});
				renderer.setSize(window.innerWidth, window.innerHeight);
				document.body.appendChild(renderer.domElement);

				addLights();
				animate();
				render();
				console.log(roman);
				console.log(scene.children);
			}
			function animate(){
				requestAnimationFrame(animate);
			}

			function render(){
				renderer.render(scene, camera);
				//renderer.setClearColorHex(0xffffff,1);
			}

			function addLights(){
				var ambientLight=new THREE.AmbientLight(0xFFFF00);
				scene.add(ambientLight);
				var directionalLight = new THREE.DirectionalLight(0xffffff);
				directionalLight.position.set(0,1,0);
				scene.add(directionalLight);
			}

		</script>
	</body>
</html>
